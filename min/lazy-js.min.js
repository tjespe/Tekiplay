app.directive("scroll",["$window","initialJSON",function(e,b){return function(c){var f=function(){b.jquery.then(function(){$("#games").length&&this.pageYOffset>=$("#games").outerHeight()-2E3&&c.cat.requestGames(18)})};angular.element(e).on("scroll",f);c.$on("$destroy",function(){angular.element(e).off("scroll",f)})}}]);app.controller("lazyStuff",["$http","$scope","local","$location","$routeParams","$lhttp","urls",function(e,b,c,f,g,h,l){function a(a,c){h.get("/src/css/"+c,0).then(function(a){b.master.css+=a})}b.master.rate=function(a,c,d){b.master.request_in_progress||(b.master.request_in_progress=!0,e.get(l.rating+"?action="+c+"&id="+a).then(function(c){document.getElementById(a).innerHTML=c.data.data;b.master.request_in_progress=!1})["catch"](function(c){document.getElementById(a).innerHTML="ERROR "+c;b.master.request_in_progress=
!1}))};b.master.request_in_progress=!1;var d=b.master;d.toggleTags=function(){d.showAllTags=!d.showAllTags};d.search=function(){f.path("tag/"+d.query);d.collapseTags()};d.goTo=function(a){f.path(a);d.collapseTags()};d.goToGame=function(a){f.path("id/"+a)};d.goHome=function(){f.path("");d.collapseTags()};d.collapseTags=function(){d.showAllTags=!1};d.ifHome=function(){return"/"==f.path()};d.ifAtSubmit=function(){return"/submit"==f.path()};d.ifAt=function(a){return f.path()==a};d.tagIs=function(a){return"undefined"!=
typeof g.category?g.category.toLowerCase()==a.toLowerCase():!1};for(var k in d)try{b.master[k]=d[k]}catch(m){console.warn(m)}a("ubuntu","ubuntu.css");a("glyphs","custom_bootstrap/glyphicons.min.css");a("listGroups","custom_bootstrap/list-groups.min.css");b.master.mlcLoaded=!0}]);app.controller("cookieCtrl",["$timeout",function(e){function b(c,b){return(b=document.cookie.match("(^|;)\\s*"+c+"\\s*=\\s*([^;]+)"))?b.pop():""}var c=this;c.template="";c.close=function(){$(".cookie-box").css("opacity",0);e(function(){$(".cookie-box").remove()},500);"undefined"!==typeof Storage?localStorage.cookieAccept="true":document.cookie="cookiescriptaccept=visit"};"undefined"!==typeof Storage&&"true"!=localStorage.cookieAccept&&"visit"!=b("cookiescriptaccept")?e(function(){try{document.getElementsByClassName("cookie-box")[0].setAttribute("style",
"opacity:1;")}catch(f){console.warn(f)}e(c.close,5E3)},2500):document.querySelector("#cookies").remove()}]);app.controller("submitCtrl",["$http","$scope","initialJSON","urls",function(e,b,c,f){function g(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}function h(a){if(0<a.length){a=a.match(/#[^#]+/g);for(i=0;i<a.length;i++)try{a[i]=a[i].replace("#",""),a[i]=a[i].trim(),a[i]=g(a[i])}catch(m){console.warn(m)}return a}return[]}function l(a){var c=[],b;for(b in a)a.hasOwnProperty(b)?c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b])):null;return c.join("&")}
var a=this;b.master.loc="Thorin-Games \u2014 Submit a game";b.master.desc="If you want to, you can submit a game to Thorin-Games, all you have to do is to fill out the form below and tap submit";b.master.norsk&&(b.master.loc="Thorin-Games \u2014 Legg til et spill",b.master.desc="Dersom du \u00f8nsker det kan du legge til et spill til Thorin-Games. Alt du m\u00e5 gj\u00f8re er \u00e5 fylle ut skjemaet nedenfor og trykke legg til.");a.tagValReg=/.*#.+/i;a.game={title:"",comments:[],likes:2,height:"n",
width:"100%","public":!0,instructions:"",tags:[],thumbnail:"",file:"",description:"",mobile:!1};a.gameTags="";a.gameHeight="";a.gameWidth="";a.showPreview=!1;a.loading=!1;a.success=!1;a.errors={EMBED_ERROR:!1,IMAGE_ERROR:!1,DESC_ERROR:!1,MISSING_KEYS:[],OTHER_ERROR:!1};a.showP=function(){a.showPreview=!0};var d=function(a){return/^[\d\.,]+$/.test(a)||"n"==a||"r"==a||/[0-9\.,]*px$/.test(a)||/[0-9\.,]*%$/.test(a)};a.submit=function(){d(a.gameHeight)&&d(a.gameWidth)&&(a.game.height=a.gameHeight,a.game.width=
a.gameWidth);a.game.tags=h(a.gameTags);if(a.submitGame.$valid){a.loading=!0;var c=e({method:"get",url:f.submitGame+"?"+l(a.game)});c.success(function(c){a.showPreview=!1;a.loading=!1;a.errors=c.errors;if(a.success=c.success)a.game={title:"",comments:[],likes:2,height:"n",width:"100%","public":!0,instructions:"",tags:[],thumbnail:"",file:"",description:""},a.showPreview=!1});c.error(function(c,b){a.errors.OTHER_ERROR=!0;a.loading=!1;console.log("Data:",c,"status:",b)})}};a.init=function(){console.log("initialized");
c.jquery.then(function(){$("textarea").each(function(a){$(this).attr("rows",Math.ceil($(this).attr("placeholder").length*(430/56)/$(this).width()))})})}}]);app.controller("homeCtrl",["$http","$rootScope","$scope","$timeout","initialJSON",function(e,b,c,f,g){var h=this;h.len="...";b.$on("$locationChangeStart",function(b){c.master.routeChanged=!0});g.json.then(function(b){h.len=b.count;try{if(c.master.norsk){for(var a="",d=0;8>d;d++)a+=b.topTags[d].name+" ("+b.topTags[d].amount+" spill), ";a+=b.topTags[8].name+" ("+b.topTags[8].amount+" spill).";c.master.desc+=" De st\u00f8rste kategoriene akkurat n\u00e5 er "+a}else{a="";for(d=0;8>d;d++)a+=b.topTags[d].name+
" ("+b.topTags[d].amount+" games), ";a+=b.topTags[8].name+" ("+b.topTags[8].amount+" games).";c.master.desc+=" Our top categories right now are "+a}a="";for(d=0;7>d;d++)a+=" "+b.initialGames[d].title+" ("+b.initialGames[d].likes+" likes),";a+=" "+b.initialGames[7].title+" ("+b.initialGames[7].likes+" likes)";c.master.desc=c.master.norsk?c.master.desc+(" De mest popul\u00e6re spillene v\u00e5re n\u00e5 er"+a):c.master.desc+(" Our most popular games right now are"+a)}catch(k){console.warn(k)}})}]);app.service("local",[function(){var e=this;e.supported="undefined"!==typeof Storage;e.set=function(b,f,e){localStorage[b]="undefined"!==typeof e?JSON.stringify({str:f,expirationDate:e}):JSON.stringify({str:f})};e.get=function(b){if(e.keyExist(b))return JSON.parse(localStorage[b]).str};e.setExpiration=function(b,e){var c=JSON.parse(localStorage[b]);c.expirationDate=e;localStorage[b]=JSON.stringify(c)};e.getExpiration=function(b){return"undefined"!==typeof JSON.parse(localStorage[b]).expirationDate?
JSON.parse(localStorage[b]).expirationDate:Infinity};e.keyExist=function(b){return"undefined"!==typeof localStorage[b]};for(var b in localStorage)e.keyExist(b)&&"undefined"!==typeof localStorage[b].expirationDate&&localStorage[b].expirationDate<Date.now()&&delete localStorage[b]}]);app.filter("mouthWash",function(){var e="fuck ; fuck;sex ; porn;porn ; faen; fakk; f\u00f8kk; knull; pul ; wank; runk; satan; bitch; fitte; fitta; j\u00e6vl; j\u00e6vel; mens;kill y; necro;rape ;anus ;arse ; ass ; axwound ;blow job;blowjob; bollock ; bollox ; boner ; butt ;camel toe; chode ; clit ;cock ; cooch ; cum ; cunt ; dick ; dildo ; fag; gay ; homo ; handjob ; jerk ; jack; lesbi ; phil ;fil ; nigg ; paki ; penis ; pecker ; piss ; poon ; prick ; pussy ; shit;slut ; suck ; twat ; tit;tard ;tards ; vagin; whore ; 4r5e ; 5h1t ; 5hit ; a55 ; anal ; ar5e ; arrse ; ass-fucker ; asses ; assfucker ; assfukka ; asshole ; assholes ; asswhole ; a_s_s ; b!tch ; b00bs ; b17ch ; b1tch ; ballbag ; balls ; ballsack ; bastard ; beastial ; beastiality ; bellend ; bestial ; bestiality ; bich ; biatch ; bitcher ; bitchers ; bitches ; bitchin ; bitching ; bloody ; blowjobs ; boiolas ; bollok ; boob ; boobs ; booobs ; boooobs ; booooobs ; booooooobs ; breasts ; buceta ; bugger ; bum ;bunny fucker; butthole ; buttmuch ; buttplug ; c0ck ; c0cksucker ;carpet muncher; cawk ; chink ; cipa ; cl1t ; clitoris ; clits ; cnut ; cok ;cokmuncher;coksucka; coon ; cox ; crap ; cummer ; cumming ; cums ; cumshot ;cunilingus;cunillingus;cunnilingus;cuntlick;cunts ; cyalis ; cyberfuc;d1ck; damn ;dickhead; dildos ; dink ; dinks ; dirsa ; dlck ;dog-fucker; doggin ; dogging ;donkeyribber; doosh ; duche ; dyke ; ejaculat; ejakulat;f u c k;f4nny; fag ; fagging ; faggitt ; faggot ; faggs ; fagot ; fagots ; fags ; fanny ; fannyflaps ; fannyfucker ; fanyy ; fatass ; fcuk ; fcuker ; fcuking ; feck ; fecker ; felching ; fellate ; fellatio ;fingerfuck;fistfuck; flange ; fook ; fooker ; fuck; fuk; fux ;fux0r;f_u_c_k;gangbang; gay; goatse ; hell ; heshe ; hoar ; hoare ; hoer ; hore ; horniest ; horny;jackoff; jap ;jerk-off ; jism ;jiz ;jizm ; jizz ; kawk ; knob ; knobead ; knobed ; knobend ; knobhead ; knobjocky ; knobjokey ; kock ; kondum ; kondums ; kum ; kummer ; kumming ; kums ; kunilingus ; l3ich ; l3itch ; labia ; lust ; lusting ; m0f0 ; m0fo ; m45terbate ; ma5terb8 ; ma5terbate ; masochist ; master-bate ; masterb8 ; masterbat; masturbat;mo-fo; mof0 ; mofo ; mothafuck;mother fucker; motherfuck; muff ; mutha ; muthafecker ; muthafuckker ; muther ; mutherfucker ; n1gg; nazi; nigg; nob jokey; nobhead; nobjocky; nobjokey;numbnuts;nutsack; orgasim; orgasm;p0rn; fucker; phuck ; phuk; phuq ;fucker ;pimpis; piss;pricks ; pron ; pube ; pusse; pussi;pussys ;rectum ; retard; rimjaw;rimming ; schlong ;screwing ; scroat ; scrot; semen;sh!;sh1t; shag;shag ;shagger ;shaggin;shemale; shit;shit ; skank;skank ;sluts ; smegma ; smut ;son-of-a-bitch; spac ; spunk ; s_h_i_t ;t1tt1e5;t1tties; teets ; teez ; testic; tit;tit ; tosser ;tw4t; twat;twat ;v14gra;v1gra; vagin; viagra ;vulva ; vulva; wang ;whoar ;xrated; xxx ;fy fader".split(";");
return function(b,c){c.master.verifiedUser||"undefined"===typeof b||angular.forEach(e,function(c){c=new RegExp(c.split("").join("\\s*"),"gi");b=b.replace(c," mooh ")});return b}});app.filter("chatTime",["$filter",function(e){console.log("chatTime.js loaded and executing");var b="seconds ago",c="minutes ago";if(-1<navigator.language.indexOf("nb")||-1<navigator.language.indexOf("nn")||-1<navigator.language.indexOf("no"))b="sekunder siden",c="minutter siden";return function(f){if("number"==typeof f){var g=Date.now()-f;return 6E4>g?Math.floor(g/1E3)+" "+b:36E5>g?Math.floor(g/6E4)+" "+c:864E5>g?e("date")(f,"HH:mm"):6E8>g?e("date")(f,"EEE HH:mm"):31104E6>g?e("date")(f,"dd/MM HH:mm"):
e("date")(f,"dd/MM/yyyy")}return f}}]);app.directive("embedSrc",function(){console.log("embedSrc.js loaded and executing");return{restrict:"A",link:function(e,b,c){e.$watch(function(){return c.embedSrc},function(){b.attr("src",c.embedSrc)})}}});app.controller("404Ctrl",["$location","$timeout","$scope",function(e,b,c){b(function(){e.path("/")},3E3);c.master.loc="Thorin-Games \u2014 "+$("h2")[0].innerText;c.master.desc=$(".error-content")[0].innerText.replace("\n",".")}]);